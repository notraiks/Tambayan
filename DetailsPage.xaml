<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Tambayan.DetailsPage"
             Shell.NavBarIsVisible="False"
             BackgroundColor="White"
             Padding="0">

    <Grid RowDefinitions="Auto,*,Auto">

        <!-- (Row 0) Custom Header Bar -->
        <Grid HeightRequest="60" Padding="20,0"
              BackgroundColor="White"
              ColumnDefinitions="Auto,*,Auto"
              VerticalOptions="Start"
              HorizontalOptions="FillAndExpand"
              Grid.Row="0">
            
            <!-- Back Button (Now functional) -->
            <ImageButton Source="back_icon.png"
                         HeightRequest="24"
                         WidthRequest="24"
                         BackgroundColor="Transparent"
                         VerticalOptions="Center"
                         HorizontalOptions="Start"
                         Clicked="OnBackButtonClicked"/>

            <!-- Title -->
            <Label Text="Job Details"
                   Grid.Column="1"
                   FontSize="18"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   TextColor="Black"/>

            <!-- Ellipsis Button -->
            <ImageButton Source="ellipsis_icon.png"
                         Grid.Column="2"
                         HeightRequest="24"
                         WidthRequest="24"
                         BackgroundColor="Transparent"
                         VerticalOptions="Center"
                         HorizontalOptions="End"/>
        </Grid>

        <!-- (Row 1) Main Scrollable Content -->
        <ScrollView Grid.Row="1">
            <StackLayout Padding="20" Spacing="20">

                <!-- Job Title and Meta -->
                <StackLayout>
                    <Label Text="Online Shop Setup Assistant"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="Black"/>
                    <Label Text="Toledo City, Cebu"
                           FontSize="14"
                           TextColor="Gray"
                           Margin="0,2,0,0"/>
                    <FlexLayout Direction="Row" Wrap="NoWrap" Margin="0,5,0,0" AlignItems="Center">
                        <Frame BackgroundColor="#F5F5F5"
                               Padding="5,2"
                               CornerRadius="10"
                               HasShadow="False">
                            <Label Text="Project-based"
                                   FontSize="12"
                                   TextColor="Black"/>
                        </Frame>
                        <Frame BackgroundColor="#F5F5F5"
                               Padding="5,2"
                               CornerRadius="10"
                               HasShadow="False">
                            <Label Text="Skill: Intermediate"
                                   FontSize="12"
                                   TextColor="Black"/>
                        </Frame>
                        <Frame BackgroundColor="#E0E0FF"
                               Padding="5,2"
                               CornerRadius="10"
                               HasShadow="False">
                            <Label Text="₱10,000 / Month"
                                   FontSize="12"
                                   TextColor="#4A4AFF"/>
                        </Frame>
                    </FlexLayout>
                    <Label Text="Duration: 3 months"
                           FontSize="12"
                           TextColor="Gray"
                           Margin="0,5,0,0"/>
                </StackLayout>

                <!-- Divider -->
                <BoxView HeightRequest="1" Color="#E0E0E0" HorizontalOptions="Fill"/>

                <!-- Images Scroll -->
                <ScrollView Orientation="Horizontal" HorizontalScrollBarVisibility="Never">
                    <StackLayout Orientation="Horizontal" Spacing="10">
                        <Image Source="gus.jpg" HeightRequest="100" WidthRequest="100" Aspect="AspectFill"/>
                        <Image Source="gus.jpg" HeightRequest="100" WidthRequest="100" Aspect="AspectFill"/>
                        <Image Source="gus.jpg" HeightRequest="100" WidthRequest="100" Aspect="AspectFill"/>
                    </StackLayout>
                </ScrollView>

                <!-- Divider -->
                <BoxView HeightRequest="1" Color="#E0E0E0" HorizontalOptions="Fill"/>

                <!-- Employer Profile -->
                <Grid ColumnDefinitions="Auto,*" VerticalOptions="Center">
                    <Border Stroke="#CCCCCC"
                            StrokeThickness="0"
                            StrokeShape="RoundRectangle 12,12,12,12"
                            Padding="0"
                            Margin="0,0,10,0">
                        <Image Source="gus.jpg"
                               HeightRequest="50"
                               WidthRequest="50"
                               Aspect="AspectFill">
                            <Image.Clip>
                                <EllipseGeometry Center="20,20" RadiusX="20" RadiusY="20"/>
                            </Image.Clip>
                        </Image>
                    </Border>
                    <StackLayout Grid.Column="1" VerticalOptions="Center">
                        <Label Text="Daisy May Rolling"
                               FontSize="16"
                               FontAttributes="Bold"
                               TextColor="Black"/>
                        <Label Text="Housekeeping"
                               FontSize="14"
                               TextColor="Gray"/>
                    </StackLayout>
                </Grid>

                <!-- Tab Switcher -->
                <Grid ColumnDefinitions="*,*" HeightRequest="40">
                    <Border Stroke="#F2F2F2"
                            StrokeThickness="0"
                            StrokeShape="RoundRectangle 10,10,10,10"
                            BackgroundColor="#F2F2F2"
                            Margin="2"
                            Padding="0"
                            Grid.Column="0">
                        <Grid>
                            <Label Text="Description"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"
                                   FontAttributes="Bold"
                                   FontSize="14"
                                   TextColor="#4A4AFF"/>
                        </Grid>
                    </Border>

                    <Border Stroke="#F2F2F2"
                            StrokeThickness="0"
                            StrokeShape="RoundRectangle 10,10,10,10"
                            BackgroundColor="#D9D9D9"
                            Margin="2"
                            Padding="0"
                            Grid.Column="1">
                        <Grid>
                            <Label Text="Requirements"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"
                                   FontSize="14"
                                   TextColor="Gray"/>
                        </Grid>
                    </Border>
                </Grid>

                <!-- Job Description -->
                <StackLayout>
                    <Label Text="About the Job"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="Black"/>
                    <Label Text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut pulvinar at tortor ac finibus..."
                           FontSize="14"
                           TextColor="Gray"/>
                </StackLayout>

            </StackLayout>
        </ScrollView>

        <!-- (Row 2) Apply Now Button -->
        <Frame Grid.Row="2" Padding="10" BackgroundColor="White" HasShadow="True">
            <Button Text="Apply Now"
                    BackgroundColor="#4A4AFF"
                    TextColor="White"
                    FontAttributes="Bold"
                    CornerRadius="10"
                    HeightRequest="50"/>
        </Frame>
    </Grid>
</ContentPage>